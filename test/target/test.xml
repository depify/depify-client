<x:test-report xmlns:x="http://www.daisy.org/ns/xprocspec"><x:description xmlns:cx="http://xmlcalabash.com/ns/extensions" xmlns:c="http://www.w3.org/ns/xproc-step" xml:base="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" test-base-uri="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" script="file:/Users/jfuller/Source/2_webcomposite/depify-client/src/client/xproc/depify.xpl" test-grammar="xprocspec" temp-dir="file:/tmp/xprocspec-20140914161959378/"><x:step-declaration><p:declare-step xmlns:p="http://www.w3.org/ns/xproc" xmlns:cxf="http://xmlcalabash.com/ns/extensions/fileutils" xmlns:pxp="http://exproc.org/proposed/steps" xmlns:depify="https://github.com/xquery/depify" xmlns:impl="https://github.com/xquery/depify/impl" version="1.0" name="main" type="depify:depify" x:type="{https://github.com/xquery/depify}depify"><p:input port="source" kind="document" primary="true" sequence="false"/><p:input port="packages" kind="document" sequence="false" primary="false"><p:document href="http://depify.com/packages/package.xml"/></p:input><p:output port="result" kind="document" sequence="true" primary="true"/><p:option name="depify-repo-download-url" select="'http://depify.com/packages/package.xml'"/><p:option name="command" select="'list'"/><p:option name="package" select="''"/><p:option name="version" select="'1.0'"/><p:option name="init-repo-uri" select="''"/><p:option name="app_dir" select="'.'"/><p:option name="app_dir_lib" select="'lib'"/></p:declare-step></x:step-declaration><x:scenario xmlns:depify="https://github.com/xquery/depify" end-time="2014-09-14T14:20:01.457Z" label="install package" start-time="2014-09-14T14:20:00.595Z"><x:call x:type="{https://github.com/xquery/depify}depify" step="depify:depify"><x:option select="'install'" name="command" value="install"/><x:option select="'xquery.1.functx'" name="package" value="xquery.1.functx"/><x:option select="'1.0'" name="version" value="1.0"/><x:option select="'.'" name="app_dir" value="."/><x:option select="'lib'" name="app_dir_lib" value="lib"/><x:input port="source">
                <x:document xml:base="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" xml:space="preserve" type="inline">
                  <test/>
                </x:document>
            </x:input></x:call>
                                                <x:context label="errors" id="errors">
                                                    <x:document xml:base="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" xml:space="preserve" type="inline"><c:errors test-base-uri="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" error-location="running the script"><c:error xmlns="http://xproc.org/ns/errors" code="XE0001" href="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" line="1" column="338">http://depify.com/downloads/xquery.1.functx-1.0.zip</c:error></c:errors></x:document>
                                                </x:context>
                                            
                                                <x:expect type="count" label="the step should execute successfully without throwing any errors" max="0" contextref="errors"/>
                                            <x:context label="The output" id="context0">
            
        </x:context><x:expect type="xpath" label="The package name should be xquery.1.functx'" test="//depify:dep/@name" equals="'xquery.1.functx'" contextref="context0"/></x:scenario><c:errors test-base-uri="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" error-location="running the script"><c:error xmlns="http://xproc.org/ns/errors" code="XE0001" href="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" line="1" column="338">http://depify.com/downloads/xquery.1.functx-1.0.zip</c:error></c:errors><x:test-result xmlns:depify="https://github.com/xquery/depify" type="count" label="the step should execute successfully without throwing any errors" max="0" contextref="errors" result="failed">
                                                        <x:expected>At most 0 documents.</x:expected>
                                                    <x:was>1</x:was></x:test-result><x:test-result xmlns:depify="https://github.com/xquery/depify" type="xpath" label="The package name should be xquery.1.functx'" test="//depify:dep/@name" equals="'xquery.1.functx'" contextref="context0" result="passed"><x:expected xml:space="preserve">XPath: 'xquery.1.functx'</x:expected><x:was xml:space="preserve">XPath: //depify:dep/@name</x:was></x:test-result></x:description><x:description xmlns:cx="http://xmlcalabash.com/ns/extensions" xmlns:c="http://www.w3.org/ns/xproc-step" xml:base="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" test-base-uri="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" script="file:/Users/jfuller/Source/2_webcomposite/depify-client/src/client/xproc/depify.xpl" test-grammar="xprocspec" temp-dir="file:/tmp/xprocspec-20140914161959378/"><x:step-declaration><p:declare-step xmlns:p="http://www.w3.org/ns/xproc" xmlns:cxf="http://xmlcalabash.com/ns/extensions/fileutils" xmlns:pxp="http://exproc.org/proposed/steps" xmlns:depify="https://github.com/xquery/depify" xmlns:impl="https://github.com/xquery/depify/impl" version="1.0" name="main" type="depify:depify" x:type="{https://github.com/xquery/depify}depify"><p:input port="source" kind="document" primary="true" sequence="false"/><p:input port="packages" kind="document" sequence="false" primary="false"><p:document href="http://depify.com/packages/package.xml"/></p:input><p:output port="result" kind="document" sequence="true" primary="true"/><p:option name="depify-repo-download-url" select="'http://depify.com/packages/package.xml'"/><p:option name="command" select="'list'"/><p:option name="package" select="''"/><p:option name="version" select="'1.0'"/><p:option name="init-repo-uri" select="''"/><p:option name="app_dir" select="'.'"/><p:option name="app_dir_lib" select="'lib'"/></p:declare-step></x:step-declaration><x:scenario xmlns:depify="https://github.com/xquery/depify" end-time="2014-09-14T14:20:02.323Z" label="repeat install package with defaults" start-time="2014-09-14T14:20:01.588Z"><x:call x:type="{https://github.com/xquery/depify}depify" step="depify:depify"><x:option select="'install'" name="command" value="install"/><x:option select="'xquery.1.functx'" name="package" value="xquery.1.functx"/><x:option select="'1.0'" name="version" value="1.0"/><x:input port="source">
              <x:document xml:base="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" xml:space="preserve" type="inline"><depify:depify xmlns:cxf="http://xmlcalabash.com/ns/extensions/fileutils" xmlns:pxp="http://exproc.org/proposed/steps" ts="current datetime"/></x:document>
            </x:input></x:call>
                                                <x:context label="errors" id="errors">
                                                    <x:document xml:base="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" xml:space="preserve" type="inline"><c:errors test-base-uri="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" error-location="running the script"><c:error xmlns="http://xproc.org/ns/errors" code="XE0001" href="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" line="1" column="338">http://depify.com/downloads/xquery.1.functx-1.0.zip</c:error></c:errors></x:document>
                                                </x:context>
                                            
                                                <x:expect type="count" label="the step should execute successfully without throwing any errors" max="0" contextref="errors"/>
                                            <x:context label="The output" id="context1">
            
        </x:context><x:expect type="xpath" label="The package name should be xquery.1.functx'" test="//depify:dep/@name" equals="'xquery.1.functx'" contextref="context1"/></x:scenario><c:errors test-base-uri="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" error-location="running the script"><c:error xmlns="http://xproc.org/ns/errors" code="XE0001" href="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" line="1" column="338">http://depify.com/downloads/xquery.1.functx-1.0.zip</c:error></c:errors><x:test-result xmlns:depify="https://github.com/xquery/depify" type="count" label="the step should execute successfully without throwing any errors" max="0" contextref="errors" result="failed">
                                                        <x:expected>At most 0 documents.</x:expected>
                                                    <x:was>1</x:was></x:test-result><x:test-result xmlns:depify="https://github.com/xquery/depify" type="xpath" label="The package name should be xquery.1.functx'" test="//depify:dep/@name" equals="'xquery.1.functx'" contextref="context1" result="passed"><x:expected xml:space="preserve">XPath: 'xquery.1.functx'</x:expected><x:was xml:space="preserve">XPath: //depify:dep/@name</x:was></x:test-result></x:description><x:description xmlns:cx="http://xmlcalabash.com/ns/extensions" xmlns:c="http://www.w3.org/ns/xproc-step" xml:base="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" test-base-uri="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" script="file:/Users/jfuller/Source/2_webcomposite/depify-client/src/client/xproc/depify.xpl" test-grammar="xprocspec" temp-dir="file:/tmp/xprocspec-20140914161959378/"><x:step-declaration><p:declare-step xmlns:p="http://www.w3.org/ns/xproc" xmlns:cxf="http://xmlcalabash.com/ns/extensions/fileutils" xmlns:pxp="http://exproc.org/proposed/steps" xmlns:depify="https://github.com/xquery/depify" xmlns:impl="https://github.com/xquery/depify/impl" version="1.0" name="main" type="depify:depify" x:type="{https://github.com/xquery/depify}depify"><p:input port="source" kind="document" primary="true" sequence="false"/><p:input port="packages" kind="document" sequence="false" primary="false"><p:document href="http://depify.com/packages/package.xml"/></p:input><p:output port="result" kind="document" sequence="true" primary="true"/><p:option name="depify-repo-download-url" select="'http://depify.com/packages/package.xml'"/><p:option name="command" select="'list'"/><p:option name="package" select="''"/><p:option name="version" select="'1.0'"/><p:option name="init-repo-uri" select="''"/><p:option name="app_dir" select="'.'"/><p:option name="app_dir_lib" select="'lib'"/></p:declare-step></x:step-declaration><x:scenario xmlns:depify="https://github.com/xquery/depify" end-time="2014-09-14T14:20:02.976Z" label="remove package" start-time="2014-09-14T14:20:02.427Z"><x:call x:type="{https://github.com/xquery/depify}depify" step="depify:depify"><x:option select="'remove'" name="command" value="remove"/><x:option select="'xquery.1.functx'" name="package" value="xquery.1.functx"/><x:option select="'1.0'" name="version" value="1.0"/><x:option select="'.'" name="app_dir" value="."/><x:option select="'lib'" name="app_dir_lib" value="lib"/><x:input port="source">
              <x:document xml:base="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" xml:space="preserve" type="inline"><depify xmlns="https://github.com/xquery/depify" ts="current datetime"><dep path="/packages/master/xquery/1/functx/1.0/" name="xquery.1.functx" version="1.0"><title>FunctX library</title><desc>The FunctX function library is a set of useful functions on
  XML documents and data. It comes in two flavors: XQuery 1.0 and
  XSLT 2.0. Where possible, XPath 2.0 is is used in order to keep the
  function definitions as consistent as possible across the two
  languages. The source code for the functions is available under the
  GNU-LGPL license. However, the longer descriptions of the functions
  and the design of the FunctX Web sites is copyrighted and may only
  be used with permission.This site also includes descriptions and
  examples of the XQuery and XPath built-in functions, taken with
  permission from the book XQuery (2007, O'Reilly Media).We hope you
  find these functions useful and that you will take the time to
  provide feedback and/or contribute your own functions.
  </desc><license type="GNU-LGPL">
  <uri>?</uri>
  </license><repo type="?">
  <uri>?</uri>
  </repo><author id="pwalmsley">Priscilla Walmsley</author><website>http://www.xqueryfunctions.com/</website><xquery version="1.0">
  <prefix>functx</prefix>
  <namespace>http://www.functx.com</namespace>
  <uri>functx.xq</uri>
  </xquery></dep></depify></x:document>
            </x:input></x:call>
                                                <x:context label="errors" id="errors">
                                                    
                                                </x:context>
                                            
                                                <x:expect type="count" label="the step should execute successfully without throwing any errors" max="0" contextref="errors"/>
                                            <x:context label="The output" id="context2">
            <x:document xml:base="file:/Users/jfuller/Source/2_webcomposite/depify-client/test/data/depify-functx.xml" xml:space="preserve" type="inline"><depify xmlns="https://github.com/xquery/depify" ts="current datetime"/></x:document>
        </x:context><x:expect type="xpath" label="The package xquery.1.functx' should not exist" test="exists(//depify:dep[@name eq 'xquery.1.functx'])" equals="false()" contextref="context2"/></x:scenario><x:output port="result"><x:document xml:base="file:/Users/jfuller/Source/2_webcomposite/depify-client/test/data/depify-functx.xml" xml:space="preserve" type="inline"><depify xmlns="https://github.com/xquery/depify" ts="current datetime"/></x:document></x:output><x:test-result xmlns:depify="https://github.com/xquery/depify" type="count" label="the step should execute successfully without throwing any errors" max="0" contextref="errors" result="passed">
                                                        <x:expected>At most 0 documents.</x:expected>
                                                    <x:was>0</x:was></x:test-result><x:test-result xmlns:depify="https://github.com/xquery/depify" type="xpath" label="The package xquery.1.functx' should not exist" test="exists(//depify:dep[@name eq 'xquery.1.functx'])" equals="false()" contextref="context2" result="passed"><x:expected xml:space="preserve">XPath: false()
Value: false</x:expected><x:was xml:space="preserve">XPath: exists(//depify:dep[@name eq 'xquery.1.functx'])
Value: false</x:was></x:test-result></x:description><x:description xmlns:cx="http://xmlcalabash.com/ns/extensions" xmlns:c="http://www.w3.org/ns/xproc-step" xml:base="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" test-base-uri="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" script="file:/Users/jfuller/Source/2_webcomposite/depify-client/src/client/xproc/depify.xpl" test-grammar="xprocspec" temp-dir="file:/tmp/xprocspec-20140914161959378/"><x:step-declaration><p:declare-step xmlns:p="http://www.w3.org/ns/xproc" xmlns:cxf="http://xmlcalabash.com/ns/extensions/fileutils" xmlns:pxp="http://exproc.org/proposed/steps" xmlns:depify="https://github.com/xquery/depify" xmlns:impl="https://github.com/xquery/depify/impl" version="1.0" name="main" type="depify:depify" x:type="{https://github.com/xquery/depify}depify"><p:input port="source" kind="document" primary="true" sequence="false"/><p:input port="packages" kind="document" sequence="false" primary="false"><p:document href="http://depify.com/packages/package.xml"/></p:input><p:output port="result" kind="document" sequence="true" primary="true"/><p:option name="depify-repo-download-url" select="'http://depify.com/packages/package.xml'"/><p:option name="command" select="'list'"/><p:option name="package" select="''"/><p:option name="version" select="'1.0'"/><p:option name="init-repo-uri" select="''"/><p:option name="app_dir" select="'.'"/><p:option name="app_dir_lib" select="'lib'"/></p:declare-step></x:step-declaration><x:scenario xmlns:depify="https://github.com/xquery/depify" end-time="2014-09-14T14:20:03.357Z" label="list installed packages" start-time="2014-09-14T14:20:03.076Z"><x:call x:type="{https://github.com/xquery/depify}depify" step="depify:depify"><x:option select="'list'" name="command" value="list"/><x:option select="'.'" name="app_dir" value="."/><x:option select="'lib'" name="app_dir_lib" value="lib"/><x:input port="source">
              <x:document xml:base="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" xml:space="preserve" type="inline"><depify xmlns="https://github.com/xquery/depify" ts="current datetime"><dep path="/packages/master/xquery/1/functx/1.0/" name="xquery.1.functx" version="1.0"><title>FunctX library</title><desc>The FunctX function library is a set of useful functions on
  XML documents and data. It comes in two flavors: XQuery 1.0 and
  XSLT 2.0. Where possible, XPath 2.0 is is used in order to keep the
  function definitions as consistent as possible across the two
  languages. The source code for the functions is available under the
  GNU-LGPL license. However, the longer descriptions of the functions
  and the design of the FunctX Web sites is copyrighted and may only
  be used with permission.This site also includes descriptions and
  examples of the XQuery and XPath built-in functions, taken with
  permission from the book XQuery (2007, O'Reilly Media).We hope you
  find these functions useful and that you will take the time to
  provide feedback and/or contribute your own functions.
  </desc><license type="GNU-LGPL">
  <uri>?</uri>
  </license><repo type="?">
  <uri>?</uri>
  </repo><author id="pwalmsley">Priscilla Walmsley</author><website>http://www.xqueryfunctions.com/</website><xquery version="1.0">
  <prefix>functx</prefix>
  <namespace>http://www.functx.com</namespace>
  <uri>functx.xq</uri>
  </xquery></dep></depify></x:document>
            </x:input></x:call>
                                                <x:context label="errors" id="errors">
                                                    
                                                </x:context>
                                            
                                                <x:expect type="count" label="the step should execute successfully without throwing any errors" max="0" contextref="errors"/>
                                            <x:context label="The output" id="context3">
            <x:document xml:base="file:/Users/jfuller/Source/2_webcomposite/depify-client/test/data/depify-functx.xml" xml:space="preserve" type="inline"><depify xmlns="https://github.com/xquery/depify" ts="current datetime"><dep path="/packages/master/xquery/1/functx/1.0/" name="xquery.1.functx" version="1.0"><title>FunctX library</title><desc>The FunctX function library is a set of useful functions on
  XML documents and data. It comes in two flavors: XQuery 1.0 and
  XSLT 2.0. Where possible, XPath 2.0 is is used in order to keep the
  function definitions as consistent as possible across the two
  languages. The source code for the functions is available under the
  GNU-LGPL license. However, the longer descriptions of the functions
  and the design of the FunctX Web sites is copyrighted and may only
  be used with permission.This site also includes descriptions and
  examples of the XQuery and XPath built-in functions, taken with
  permission from the book XQuery (2007, O'Reilly Media).We hope you
  find these functions useful and that you will take the time to
  provide feedback and/or contribute your own functions.
  </desc><license type="GNU-LGPL">
  <uri>?</uri>
  </license><repo type="?">
  <uri>?</uri>
  </repo><author id="pwalmsley">Priscilla Walmsley</author><website>http://www.xqueryfunctions.com/</website><xquery version="1.0">
  <prefix>functx</prefix>
  <namespace>http://www.functx.com</namespace>
  <uri>functx.xq</uri>
  </xquery></dep></depify></x:document>
        </x:context><x:expect type="xpath" label="The package xquery.1.functx' should not exist" test="exists(//depify:dep[@name eq 'xquery.1.functx'])" equals="true()" contextref="context3"/></x:scenario><x:output port="result"><x:document xml:base="file:/Users/jfuller/Source/2_webcomposite/depify-client/test/data/depify-functx.xml" xml:space="preserve" type="inline"><depify xmlns="https://github.com/xquery/depify" ts="current datetime"><dep path="/packages/master/xquery/1/functx/1.0/" name="xquery.1.functx" version="1.0"><title>FunctX library</title><desc>The FunctX function library is a set of useful functions on
  XML documents and data. It comes in two flavors: XQuery 1.0 and
  XSLT 2.0. Where possible, XPath 2.0 is is used in order to keep the
  function definitions as consistent as possible across the two
  languages. The source code for the functions is available under the
  GNU-LGPL license. However, the longer descriptions of the functions
  and the design of the FunctX Web sites is copyrighted and may only
  be used with permission.This site also includes descriptions and
  examples of the XQuery and XPath built-in functions, taken with
  permission from the book XQuery (2007, O'Reilly Media).We hope you
  find these functions useful and that you will take the time to
  provide feedback and/or contribute your own functions.
  </desc><license type="GNU-LGPL">
  <uri>?</uri>
  </license><repo type="?">
  <uri>?</uri>
  </repo><author id="pwalmsley">Priscilla Walmsley</author><website>http://www.xqueryfunctions.com/</website><xquery version="1.0">
  <prefix>functx</prefix>
  <namespace>http://www.functx.com</namespace>
  <uri>functx.xq</uri>
  </xquery></dep></depify></x:document></x:output><x:test-result xmlns:depify="https://github.com/xquery/depify" type="count" label="the step should execute successfully without throwing any errors" max="0" contextref="errors" result="passed">
                                                        <x:expected>At most 0 documents.</x:expected>
                                                    <x:was>0</x:was></x:test-result><x:test-result xmlns:depify="https://github.com/xquery/depify" type="xpath" label="The package xquery.1.functx' should not exist" test="exists(//depify:dep[@name eq 'xquery.1.functx'])" equals="true()" contextref="context3" result="passed"><x:expected xml:space="preserve">XPath: true()
Value: true</x:expected><x:was xml:space="preserve">XPath: exists(//depify:dep[@name eq 'xquery.1.functx'])
Value: true</x:was></x:test-result></x:description><x:description xmlns:cx="http://xmlcalabash.com/ns/extensions" xmlns:c="http://www.w3.org/ns/xproc-step" xml:base="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" test-base-uri="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" script="file:/Users/jfuller/Source/2_webcomposite/depify-client/src/client/xproc/depify.xpl" test-grammar="xprocspec" temp-dir="file:/tmp/xprocspec-20140914161959378/"><x:step-declaration><p:declare-step xmlns:p="http://www.w3.org/ns/xproc" xmlns:cxf="http://xmlcalabash.com/ns/extensions/fileutils" xmlns:pxp="http://exproc.org/proposed/steps" xmlns:depify="https://github.com/xquery/depify" xmlns:impl="https://github.com/xquery/depify/impl" version="1.0" name="main" type="depify:depify" x:type="{https://github.com/xquery/depify}depify"><p:input port="source" kind="document" primary="true" sequence="false"/><p:input port="packages" kind="document" sequence="false" primary="false"><p:document href="http://depify.com/packages/package.xml"/></p:input><p:output port="result" kind="document" sequence="true" primary="true"/><p:option name="depify-repo-download-url" select="'http://depify.com/packages/package.xml'"/><p:option name="command" select="'list'"/><p:option name="package" select="''"/><p:option name="version" select="'1.0'"/><p:option name="init-repo-uri" select="''"/><p:option name="app_dir" select="'.'"/><p:option name="app_dir_lib" select="'lib'"/></p:declare-step></x:step-declaration><x:scenario xmlns:depify="https://github.com/xquery/depify" end-time="2014-09-14T14:20:03.745Z" label="package info" start-time="2014-09-14T14:20:03.449Z"><x:call x:type="{https://github.com/xquery/depify}depify" step="depify:depify"><x:option select="'info'" name="command" value="info"/><x:option select="'js.ecmascript.qunit'" name="package" value="js.ecmascript.qunit"/><x:option select="'1.0'" name="version" value="1.0"/><x:option select="'.'" name="app_dir" value="."/><x:option select="'lib'" name="app_dir_lib" value="lib"/><x:input port="source">
          <x:document xml:base="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" xml:space="preserve" type="inline"><depify xmlns="https://github.com/xquery/depify" ts="current datetime"><dep path="/packages/master/xquery/1/functx/1.0/" name="xquery.1.functx" version="1.0"><title>FunctX library</title><desc>The FunctX function library is a set of useful functions on
  XML documents and data. It comes in two flavors: XQuery 1.0 and
  XSLT 2.0. Where possible, XPath 2.0 is is used in order to keep the
  function definitions as consistent as possible across the two
  languages. The source code for the functions is available under the
  GNU-LGPL license. However, the longer descriptions of the functions
  and the design of the FunctX Web sites is copyrighted and may only
  be used with permission.This site also includes descriptions and
  examples of the XQuery and XPath built-in functions, taken with
  permission from the book XQuery (2007, O'Reilly Media).We hope you
  find these functions useful and that you will take the time to
  provide feedback and/or contribute your own functions.
  </desc><license type="GNU-LGPL">
  <uri>?</uri>
  </license><repo type="?">
  <uri>?</uri>
  </repo><author id="pwalmsley">Priscilla Walmsley</author><website>http://www.xqueryfunctions.com/</website><xquery version="1.0">
  <prefix>functx</prefix>
  <namespace>http://www.functx.com</namespace>
  <uri>functx.xq</uri>
  </xquery></dep></depify></x:document>
        </x:input></x:call>
                                                <x:context label="errors" id="errors">
                                                    
                                                </x:context>
                                            
                                                <x:expect type="count" label="the step should execute successfully without throwing any errors" max="0" contextref="errors"/>
                                            <x:context label="The output" id="context4">
        
      </x:context><x:expect type="xpath" label="The package js.ecmascript.qunit should be present" test="exists(//depify:dep[@name eq 'js.ecmascript.qunit'])" equals="true()" contextref="context4"/></x:scenario><x:output port="result"/><x:test-result xmlns:depify="https://github.com/xquery/depify" type="count" label="the step should execute successfully without throwing any errors" max="0" contextref="errors" result="passed">
                                                        <x:expected>At most 0 documents.</x:expected>
                                                    <x:was>0</x:was></x:test-result><x:test-result xmlns:depify="https://github.com/xquery/depify" type="xpath" label="The package js.ecmascript.qunit should be present" test="exists(//depify:dep[@name eq 'js.ecmascript.qunit'])" equals="true()" contextref="context4" result="passed"><x:expected xml:space="preserve">XPath: true()</x:expected><x:was xml:space="preserve">XPath: exists(//depify:dep[@name eq 'js.ecmascript.qunit'])</x:was></x:test-result></x:description><x:description xmlns:cx="http://xmlcalabash.com/ns/extensions" xmlns:c="http://www.w3.org/ns/xproc-step" xml:base="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" test-base-uri="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" script="file:/Users/jfuller/Source/2_webcomposite/depify-client/src/client/xproc/depify.xpl" test-grammar="xprocspec" temp-dir="file:/tmp/xprocspec-20140914161959378/"><x:step-declaration><p:declare-step xmlns:p="http://www.w3.org/ns/xproc" xmlns:cxf="http://xmlcalabash.com/ns/extensions/fileutils" xmlns:pxp="http://exproc.org/proposed/steps" xmlns:depify="https://github.com/xquery/depify" xmlns:impl="https://github.com/xquery/depify/impl" version="1.0" name="main" type="depify:depify" x:type="{https://github.com/xquery/depify}depify"><p:input port="source" kind="document" primary="true" sequence="false"/><p:input port="packages" kind="document" sequence="false" primary="false"><p:document href="http://depify.com/packages/package.xml"/></p:input><p:output port="result" kind="document" sequence="true" primary="true"/><p:option name="depify-repo-download-url" select="'http://depify.com/packages/package.xml'"/><p:option name="command" select="'list'"/><p:option name="package" select="''"/><p:option name="version" select="'1.0'"/><p:option name="init-repo-uri" select="''"/><p:option name="app_dir" select="'.'"/><p:option name="app_dir_lib" select="'lib'"/></p:declare-step></x:step-declaration><x:scenario xmlns:depify="https://github.com/xquery/depify" end-time="2014-09-14T14:20:04.011Z" label="install packages" start-time="2014-09-14T14:20:03.845Z"><x:call x:type="{https://github.com/xquery/depify}depify" step="depify:depify"><x:option select="'install'" name="command" value="install"/><x:option select="''" name="package" value=""/><x:option select="''" name="version" value=""/><x:option select="'/tmp'" name="app_dir" value="/tmp"/><x:option select="'lib'" name="app_dir_lib" value="lib"/><x:input port="source">
          <x:document xml:base="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" xml:space="preserve" type="inline"><depify xmlns="https://github.com/xquery/depify" ts="current datetime">
  <dep name="xquery.1.functx" version="1.0">
    <title>test1 FunctX library</title>
    <desc>functx</desc>
    <repo type="?">
      <uri>?</uri>
    </repo>
  </dep>
  <dep name="js.ecmascript.prettify" version="1.0">
    <title>prettify </title>
    <desc>test</desc>
    <repo type="?">
      <uri>?</uri>
    </repo>
  </dep>
</depify></x:document>
        </x:input></x:call>
                                                <x:context label="errors" id="errors">
                                                    <x:document xml:base="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" xml:space="preserve" type="inline"><c:errors test-base-uri="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" error-location="running the script"><c:error xmlns:err="http://www.w3.org/ns/xproc-error" code="err:XD0026" href="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" line="1" column="338">Expression refers to context when none is available: (/depify:dep/@repo-uri/data(.),/depify:dep/depify:repo/depify:uri/data(.))[1]</c:error></c:errors></x:document>
                                                </x:context>
                                            
                                                <x:expect type="count" label="the step should execute successfully without throwing any errors" max="0" contextref="errors"/>
                                            <x:context label="The output" id="context5">
        
      </x:context></x:scenario><c:errors test-base-uri="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" error-location="running the script"><c:error xmlns:err="http://www.w3.org/ns/xproc-error" code="err:XD0026" href="file:///Users/jfuller/Source/2_webcomposite/depify-client/test/test.xprocspec" line="1" column="338">Expression refers to context when none is available: (/depify:dep/@repo-uri/data(.),/depify:dep/depify:repo/depify:uri/data(.))[1]</c:error></c:errors><x:test-result xmlns:depify="https://github.com/xquery/depify" type="count" label="the step should execute successfully without throwing any errors" max="0" contextref="errors" result="failed">
                                                        <x:expected>At most 0 documents.</x:expected>
                                                    <x:was>1</x:was></x:test-result></x:description></x:test-report>